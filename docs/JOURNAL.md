# Журнал проекта ferag

Журнал фиксирует решённые и текущие задачи, ключевые решения и события в контексте чата-источника. Ссылки на чат даны в формате: **Чат** → краткое указание темы или цитаты (исходный текст: `26-0201_chat.txt`).

---

## Как пользоваться журналом

- **Дата/этап** — ориентировочная привязка к хронологии чата.
- **Событие** — что произошло или что решено.
- **Задачи** — номера из `docs/TASKS.md` (например, 1.5, 3.1).
- **Чат** — отсылка к содержанию `26-0201_chat.txt`.

При добавлении новых записей удобно копировать блок «Шаблон записи» из конца файла.

---

## 2026-01-22 — Цели проекта и выбор стека

**Событие:** Уточнение запроса «Я бы хотел» → желание запускать LLM локально и строить графовый RAG на основе текста.

**Решения:**
- Выбор инструментов для локального LLM: LM Studio, Ollama, GPT4All; для начала — Ollama.
- Подтверждение, что графовый RAG на базе локальных моделей возможен; рассмотрены Microsoft GraphRAG, LlamaIndex (Property Graph), LangGraph; хранилище графа — Neo4j или FalkorDB в Docker.
- Оценка железа: мини-ПК GMKtec NucBox K8 Plus (Ryzen 7 8845HS, 64 ГБ ОЗУ) признан подходящим для локальных LLM и графового RAG.

**Задачи:** Соответствуют целям в `PROJECT.md`; блок 6 (RAG) — в перспективе.

**Чат:** Начало файла; реплики про «Я бы хотел», локальный LLM, графовый RAG, оценка NucBox K8 Plus и 64 ГБ ОЗУ.

---

## 2026-01-22 — LightRAG и MS GraphRAG

**Событие:** Сравнение LightRAG и Microsoft GraphRAG для данной конфигурации (Ryzen 7 8845HS, 64 ГБ ОЗУ).

**Решения:**
- LightRAG: предпочтителен для «работы здесь и сейчас», инкрементальное обновление графа, меньше нагрузка на ПК; объём — до ~50–100 тыс. страниц (200–500 МБ); индексация ~10–20 с на страницу.
- MS GraphRAG: для статичной базы знаний и глубокой аналитики по связям; индексация в 5–10 раз медленнее; комфортный объём — до 5–10 тыс. страниц.
- Оценка времени и стоимости: при LightRAG + Ollama — 0 руб. API; электричество при длительной индексации — порядка 10–15 руб. за ~24 ч.
- Онтология: возможность задавать типы сущностей и связей (LightRAG — через промпты/схему; MS GraphRAG — через конфиг/entity_types).

**Задачи:** 6.1 (выбор стека), 6.6 (онтология) — учтены в проекте.

**Чат:** Блоки про «есть ли смысл использовать lightRag», объём текста/время/стоимость, сравнение с MS GraphRAG, онтологию.

---

## 2026-01-22 — Онтология и извлечение сущностей

**Событие:** Вопрос о применении заранее созданной онтологии так, чтобы LightRAG/GraphRAG заполняли её при обнаружении подходящих сущностей.

**Решения:**
- Подход поддерживается: задаются типы сущностей и типы связей; извлечение ограничивается этой схемой.
- LightRAG: кастомные промпты извлечения, при необходимости — JSON-схема или Pydantic-модели.
- MS GraphRAG: настройка entity_types в конфиге; SDK позволяет подключаться к существующему графу и дополнять его с учётом структуры.
- Для сложной онтологии на данной машине целесообразны более крупные модели (например, Llama 3.3 70B с квантованием Q4/Q5).

**Задачи:** 6.6 (онтология).

**Чат:** Реплики про онтологию, типы сущностей и связей, реализацию в LightRAG и Microsoft GraphRAG.

---

## 2026-01-28 — Настройка Windows и драйверы (часть 1)

**Событие:** Первый этап настройки системы после установки Windows 11: BIOS, драйверы, рабочий стол.

**Решения и действия:**
- В BIOS выделено 8 ГБ под видеопамять (iGPU).
- Установлены драйверы чипсета (в т.ч. NPU). В Диспетчере задач появились GPU 0 (AMD Radeon 780M, 8 ГБ) и NPU 0 (AMD IPU).
- Настроены питание (сон от сети — «Никогда», режим «Максимальная производительность») и отключение лишних элементов панели задач по желанию.

**Задачи:** 1.2, 1.3, 1.4, 1.8.

**Чат:** Инструкции по первому входу в систему, Диспетчер задач, NPU 0, настройка питания и «мусора».

---

## 2026-01-28 — Wi‑Fi и сетевые драйверы

**Событие:** Wi‑Fi не работал; в системе — «Сетевой контроллер» с жёлтым знаком. Выяснено, что модуль — не Intel, а AMD RZ616 (MediaTek MT7922).

**Решения и действия:**
- Определён ID оборудования: `PCI\VEN_14C3&DEV_0616&SUBSYS_061614C3&REV_00`.
- Варианты решения: USB-модем с телефона + обновления Windows (в т.ч. необязательные) или драйвер для MediaTek MT7922 (RZ616), в т.ч. с сайта Lenovo.
- Установлен пакет драйверов GMKtec (K8 Plus & K11 Shared Drivers); для Wi‑Fi оказались нужны драйверы под RZ616, не Intel.
- После установки правильного драйвера Wi‑Fi отображается как «RZ616 Wi-Fi 6E 160MHz» в сетевых адаптерах.

**Задачи:** 1.5, 1.6 (частично).

**Чат:** Вопрос «нет ли своего wi-fi», инструкция по включению Wi‑Fi, «Сетевой контроллер», скачивание драйвера на флешку, GMKtec Shared Drivers, неудача с Intel-драйвером, идентификатор PCI, решение через MediaTek/RZ616.

---

## 2026-01-28–29 — Обновления Windows, время, имя хоста

**Событие:** Установка обновлений Windows; сбой времени (10:45 вместо 21:45 в Петербурге); переименование хоста.

**Решения и действия:**
- Обновления не останавливать принудительно; при необходимости — «Приостановить обновления на 1 неделю» после текущей загрузки.
- Время: проверка часового пояса (UTC+3 Москва/Петербург), кнопка «Синхронизировать» в настройках даты и времени; при необходимости — правка реестра (RealTimeIsUniversal).
- Имя хоста: в Windows — переименование ПК (например, AI-Station, NucBox-K8); в WSL Ubuntu — `sudo hostnamectl set-hostname nb-win`, при необходимости правка `/etc/hosts`. В чате в итоге фигурирует `nb-win`.

**Задачи:** 1.7, 2.4.

**Чат:** Остановка обновлений, синхронизация времени, смена имени хоста в Windows и WSL, проверка Wi‑Fi после обновлений.

---

## 2026-01-29 — WSL2, диск D:, проект ferag

**Событие:** Настройка WSL2, перенос данных на диск D:, создание проекта и подключение Cursor.

**Решения и действия:**
- Установлен WSL2 (Ubuntu); виртуальный диск WSL перенесён на D: (export/import).
- Создана структура: `~/projects/ferag` в Ubuntu.
- Установлен Cursor, расширение WSL; подключение к Ubuntu; открытие папки `/home/alex/projects/ferag` через File → Open Folder (т.к. команда `code .` в Ubuntu не находилась).
- Команда `cursor` в PATH: Shell Command «Install 'cursor' command in PATH»; проверка `cursor --version`, `cursor hello` (открытие нового окна Cursor).

**Задачи:** 2.1, 2.2, 3.2, 3.3, 3.4, 3.6.

**Чат:** Инструкции по WSL, переносу на D:, созданию `ferag`, открытию в Cursor, установке команды cursor, Cursor Agent CLI.

---

## 2026-01-31 — Ollama и Cursor, интеграция модели

**Событие:** Установка Ollama, первая локальная модель (Llama 3.2), настройка Cursor на использование Ollama.

**Решения и действия:**
- Ollama установлена в Windows; модель (например, Llama 3.2) скачана и запущена.
- В Cursor: Settings → Models, Override OpenAI Base URL → `http://127.0.0.1` (или localhost:11434 для Ollama), модель llama3.2.
- Проверка: Ctrl+L в Cursor для чата с локальной моделью.

**Задачи:** 3.1, 3.5.

**Чат:** Установка Ollama, настройка Cursor (OpenAI API → localhost), проверка связи с Llama.

---

## 2026-01-31 — Отложена установка Docker

**Событие:** Установка Docker Desktop запланирована, но отложена по желанию пользователя.

**Решение:** «Идеальный фундамент» (железо, WSL, Cursor, Ollama) считается достигнутым; Docker — следующий шаг при готовности продолжать.

**Задачи:** 4.1 — [ ] (отложено).

**Чат:** Предложение установить Docker; ответ пользователя про глинтвейн и баранину; согласие ассистента отложить шаг.

---

## 2026-02-01 (утро) — Имя хоста nb-win, финальный фундамент

**Событие:** Подтверждение смены имени хоста на nb-win; в /etc/hosts старого имени не было.

**Решения:** Имя nb-win зафиксировано; следующий логический шаг — установка Docker Desktop и затем развёртывание графовой БД.

**Задачи:** 2.4 (подтверждено).

**Чат:** Реплики про смену имени, проверку /etc/hosts, предложение ставить Docker.

---

## 2026-02-01 — Аккаунт Microsoft, OneDrive, аудио

**Событие:** Вопросы о проверке аудио через Cursor/ИИ, о моменте синхронизации с аккаунтом Microsoft и OneDrive.

**Решения:**
- Аудио: Cursor напрямую драйверы не ставит; диагностика — через вывод PowerShell (Get-PnpDevice с проблемными устройствами) и анализ; при необходимости — ручная установка драйвера из папки производителя (AMD Audio, .inf).
- Аккаунт Microsoft: логично подключить до Docker; плюсы — привязка лицензии, OneDrive для бэкапа кода/конфигов; не синхронизировать папки с весами моделей и WSL.
- OneDrive: исключить из синхронизации, в частности, D:\AI_MODELS и путь к WSL; синхронизировать, например, только D:\projects.

**Задачи:** 5.1, 5.2, 1.9.

**Чат:** Вопрос про аудио и синхронизацию с Microsoft; рекомендации по OneDrive и аккаунту; инструкция по ручной инъекции драйвера для «Устройства с поддержкой High Definition Audio».

---

## 2026-02-01 — Диагностика устройств, Realtek, Docker

**Событие:** Выполнена команда Get-PnpDevice (устройства с проблемами); много записей (в т.ч. WAN Miniport, виртуальные адаптеры, USB). Позже после очистки скрытых устройств в Диспетчере появились «Realtek».

**Решения:**
- Часть «проблем» — косметическая (старые записи, виртуальные адаптеры); при необходимости — «Вид → Показать скрытые устройства» и удаление полупрозрачных записей.
- Аудио: ручная установка драйвера AMD из папки 03_AMD_Audio (выбор .inf, «Установить с диска»); при отсутствии подходящего — оставить стандартный драйвер Windows, проверить наличие AMD Audio CoProcessor в «Системных устройствах».
- Следующие шаги: вход в аккаунт Microsoft, установка Docker Desktop.

**Задачи:** 1.9, 1.10, 5.1, 4.1.

**Чат:** Длинный вывод Get-PnpDevice; пояснение про «призрачные» ошибки; очистка скрытых устройств; Realtek в результате; рекомендации по аудио и Docker.

---

## Создание документации проекта (вне чата)

**Событие:** По итогам чата `26-0201_chat.txt` созданы три документа.

**Сделано:**
- `docs/PROJECT.md` — проектная документация (цели, платформа, стек, архитектура, текущее состояние).
- `docs/TASKS.md` — список задач с статусами (блоки 1–6), привязка к решениям из чата.
- `docs/JOURNAL.md` — данный журнал: события и решения в контексте чата с отсылками к задачам.

**Задачи:** Документация поддерживает блоки 1–6 в TASKS.md; обновление журнала — по мере новых решений и событий.

---

## 2026-02-01 — Docker Desktop установлен, проверка из Cursor

**Событие:** Установлен Docker Desktop для Windows (движок WSL 2), включена WSL Integration для Ubuntu. Команда `docker ps` выполнена из терминала Cursor (WSL) — пустой список контейнеров без ошибок.

**Решения и действия:**
- Установщик запущен с опцией «Use WSL 2 instead of Hyper-V (recommended)».
- В настройках Docker Desktop: Resources → WSL Integration → включён переключатель для Ubuntu.
- Проверка: в Cursor (терминал Ubuntu) выполнено `docker ps` — успешно.

**Задачи:** 4.1, 4.2, 4.3 — выполнены. Следующий шаг: 4.4 (запуск контейнера Neo4j или FalkorDB).

**Чат:** Вне чата; по инструкции из `docs/DOCKER_SETUP.md`.

---

## 2026-02-05 — Переименование проекта в ferag

**Событие:** Проект переименован с `graph-rag-lab` на `ferag` для соответствия репозиторию на GitHub (bondalen/ferag).

**Сделано:**
- Переименована папка проекта: `~/projects/graph-rag-lab` → `~/projects/ferag`
- Обновлены все упоминания в документации: README.md, docs/PROJECT.md, docs/TASKS.md, docs/JOURNAL.md
- Пути в инструкциях: `/home/alex/projects/ferag`, `~/projects/ferag`
- Файл `26-0201_chat.txt` (архив переписки) оставлен без изменений

**Задачи:** Не затрагивают нумерацию задач.

---

## 2026-02-05 — Обновление документации проекта

**Событие:** Проведён анализ чата `26-0201_chat.txt` и текущей документации. Выявлены упущения и искажения в описании проекта. Документация обновлена с учётом полного объёма концепции.

**Ключевые изменения:**

1. **Диалектический подход:** Раздел 1 в `PROJECT.md` полностью переписан с правильным пониманием процесса:
   - **Тезис** — неорганизованный массив триплетов из нового текста (хаос)
   - **Антитезис** — существующая онтология (порядок)
   - **Синтез** — разрешение противоречия: ламинарный (триплеты вписываются) и турбулентный (требуют изменения онтологии) рост
   - **Эксплуатация** — отделена от синтеза как отдельный этап

2. **Онтология как ядро:** Изменён статус онтологии с "опционально" на центральную особенность проекта. Добавлен раздел 7 в `PROJECT.md` с детальным описанием работы с онтологиями.

3. **Картография и ГИС:** Добавлена информация о Protégé, QGIS, визуализации онтологий и геопространственных данных.

4. **Концепция "Двух Миров":** Добавлен раздел 8 в `PROJECT.md`:
   - Текущее состояние: Windows + WSL2
   - Целевое: dual-boot с Fedora 43
   - Разделение функций: Windows = визуализация/GUI, Fedora = вычисления

5. **Организация данных:** Добавлен раздел 6 в `PROJECT.md` с детальной структурой дисков, путями, настройками приложений.

6. **Перспективы развития:** Добавлена информация об OCuLink, eGPU (RTX 4070 Ti / 4080), второй SSD для Fedora.

7. **Расширение TASKS.md:**
   - Блок 6 переименован в "Графовый RAG и онтология"
   - Добавлены задачи 6.2-6.10 (работа с онтологией, ламинарный/турбулентный рост)
   - Добавлен блок 7 (визуализация и картография)
   - Добавлен блок 8 (масштабирование: Fedora, eGPU)

**Задачи:** Обновлены разделы документации; статус задач изменён.

**Источник:** Анализ чата `26-0201_chat.txt` с фокусом на философскую основу проекта, онтологию, картографию, архитектуру "Двух Миров" и перспективы развития.

---

## Шаблон записи для новых событий

```markdown
## ГГГГ-ММ-ДД — Краткое название события

**Событие:** Что произошло или какой вопрос решён.

**Решения и действия:** Ключевые выводы, команды, настройки.

**Задачи:** Номера из TASKS.md (например, 4.1, 6.2).

**Чат:** Указание на место в 26-0201_chat.txt (тема или цитата).
```
